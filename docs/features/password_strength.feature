Feature: パスワード強度チェック機能
  パスワードの強度を判定し、5段階（非常に弱い、弱い、普通、強い、非常に強い）で評価する

  Background:
    Given パスワード強度チェッカーが利用可能である

  # ===========================================
  # 正常系シナリオ
  # ===========================================
  
  Scenario: 8文字未満のパスワードは非常に弱いと判定される
    When パスワード "Pass12!" の強度をチェックする
    Then 強度は "非常に弱い" と判定される

  Scenario: 8文字以上で小文字のみのパスワードは弱いと判定される
    When パスワード "abcdefgh" の強度をチェックする
    Then 強度は "弱い" と判定される

  Scenario: 8文字以上で大文字のみのパスワードは弱いと判定される
    When パスワード "ABCDEFGH" の強度をチェックする
    Then 強度は "弱い" と判定される

  Scenario: 8文字以上で数字のみのパスワードは弱いと判定される
    When パスワード "12345678" の強度をチェックする
    Then 強度は "弱い" と判定される

  Scenario: 8文字以上で記号のみのパスワードは弱いと判定される
    When パスワード "!@#$%^&*" の強度をチェックする
    Then 強度は "弱い" と判定される

  Scenario: 8文字以上で2種類の文字種を含むパスワードは普通と判定される
    When パスワード "Password" の強度をチェックする
    Then 強度は "普通" と判定される

  Scenario: 8文字以上で小文字と数字を含むパスワードは普通と判定される
    When パスワード "password123" の強度をチェックする
    Then 強度は "普通" と判定される

  Scenario: 8文字以上で大文字と記号を含むパスワードは普通と判定される  
    When パスワード "PASSWORD!@#" の強度をチェックする
    Then 強度は "普通" と判定される

  Scenario: 8文字以上で3種類の文字種を含むパスワードは普通と判定される
    When パスワード "Password123" の強度をチェックする
    Then 強度は "普通" と判定される

  Scenario: 8文字以上で小文字、数字、記号を含むパスワードは普通と判定される
    When パスワード "pass123!@#" の強度をチェックする
    Then 強度は "普通" と判定される

  Scenario: 8-15文字で4種類すべての文字種を含むパスワードは強いと判定される
    When パスワード "Pass123!" の強度をチェックする
    Then 強度は "強い" と判定される

  Scenario: 15文字で4種類すべての文字種を含むパスワードは強いと判定される
    When パスワード "MyPassword123!@" の強度をチェックする
    Then 強度は "強い" と判定される

  Scenario: 16文字以上で4種類すべての文字種を含むパスワードは非常に強いと判定される
    When パスワード "VeryStrongPass1!" の強度をチェックする
    Then 強度は "非常に強い" と判定される

  # ===========================================
  # 異常系シナリオ
  # ===========================================

  Scenario: nullパスワードでエラーが発生する
    When パスワード null の強度をチェックする
    Then エラー "パスワードがnullです" が発生する

  Scenario: 日本語を含むパスワードの強度チェック
    When パスワード "パスワード123!@#" の強度をチェックする
    Then 強度は "非常に弱い" と判定される
    # 注: 日本語文字は大文字・小文字・数字・記号のいずれにも分類されない

  Scenario: 絵文字を含むパスワードの強度チェック
    When パスワード "Pass123!😀" の強度をチェックする
    Then 強度は "普通" と判定される
    # 注: 絵文字は大文字・小文字・数字・記号のいずれにも分類されない

  Scenario: スペースを含むパスワードの強度チェック
    When パスワード "Pass word 123!" の強度をチェックする
    Then 強度は "強い" と判定される
    # 注: スペースは記号として扱われる

  Scenario: タブ文字を含むパスワードの強度チェック
    When パスワード "Pass\tword123!" の強度をチェックする
    Then 強度は "強い" と判定される
    # 注: タブ文字は記号として扱われる