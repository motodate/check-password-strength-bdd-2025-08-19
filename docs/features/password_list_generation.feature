Feature: パスワードリスト生成機能
  指定された個数と文字数で、複数のセキュアなパスワードをリストとして生成する

  Background:
    Given パスワードリスト生成機能が利用可能である

  # ===========================================
  # 正常系シナリオ
  # ===========================================

  Scenario: 最小個数（1個）のパスワードリストを生成する
    When パスワードを 1 個、文字数 12 で生成する
    Then 生成されたリストには 1 個のパスワードが含まれる
    And すべてのパスワードの文字数は 12 である
    And すべてのパスワードに大文字が含まれる
    And すべてのパスワードに小文字が含まれる
    And すべてのパスワードに数字が含まれる
    And すべてのパスワードに記号が含まれる

  Scenario: 複数個のパスワードリストを生成する
    When パスワードを 10 個、文字数 16 で生成する
    Then 生成されたリストには 10 個のパスワードが含まれる
    And すべてのパスワードの文字数は 16 である
    And すべてのパスワードに大文字が含まれる
    And すべてのパスワードに小文字が含まれる
    And すべてのパスワードに数字が含まれる
    And すべてのパスワードに記号が含まれる

  Scenario: 生成されたパスワードはすべてユニークである
    When パスワードを 50 個、文字数 12 で生成する
    Then 生成されたリストには 50 個のパスワードが含まれる
    And すべてのパスワードはユニークである

  # ===========================================
  # 異常系シナリオ（個数のバリデーション）
  # ===========================================

  Scenario: 0個のパスワードリスト生成でエラーが発生する
    When パスワードを 0 個、文字数 10 で生成する
    Then エラー "生成数は1以上である必要があります" が発生する

  Scenario: 負の個数のパスワードリスト生成でエラーが発生する
    When パスワードを -1 個、文字数 10 で生成する
    Then エラー "生成数は1以上である必要があります" が発生する

  Scenario: 文字列での生成数指定でエラーが発生する
    When パスワードを "five" 個、文字数 10 で生成する
    Then エラー "生成数は整数である必要があります" が発生する

  Scenario: nullでの生成数指定でエラーが発生する
    When パスワードを null 個、文字数 10 で生成する
    Then エラー "生成数がnullです" が発生する

  # ===========================================
  # 注: 文字数の異常系テストはpassword_generation.featureで実施済み
  # パスワードリスト生成は単一パスワード生成機能を呼び出すため、
  # 文字数のバリデーションはそちらに委譲される
  # ===========================================